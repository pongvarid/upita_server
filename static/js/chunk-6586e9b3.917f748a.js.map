{"version":3,"sources":["webpack:///./src/store/user.ts","webpack:///../../../src/mixins/loadable/index.ts","webpack:///../../../src/components/VProgressLinear/index.ts","webpack:///./src/store/iit.ts","webpack:///../../../src/components/VCard/index.ts","webpack:///../../../src/components/VGrid/VLayout.ts","webpack:///./src/views/admin/EIT_DETAIL.vue?7d24","webpack:///./src/views/admin/EIT_DETAIL.vue","webpack:///./src/views/admin/EIT_DETAIL.vue?0c6b","webpack:///./src/views/admin/EIT_DETAIL.vue?346f","webpack:///../../../src/components/VCard/VCard.ts","webpack:///./src/components/Cards/CardStatWithBtn.vue?e269","webpack:///src/components/Cards/CardStatWithBtn.vue","webpack:///./src/components/Cards/CardStatWithBtn.vue?7f20","webpack:///./src/components/Cards/CardStatWithBtn.vue"],"names":["UserClass","user","permission","routeUser","from","postHttp","getHttp","this","is_staff","generateMutationSetters","User","store","name","props","loading","type","Boolean","default","loaderHeight","Number","methods","genProgress","$slots","progress","$createElement","absolute","color","height","indeterminate","IitClass","doingUser","asignUser","raw","issueGroup","chain","groupBy","map","value","key","issue_name","group","Iit","getDataIssue","arr","ans","platform","id","val","answer","index","length","data","issueDetail_name","issue_type","choiceTypeData","sumChoice","tmp","notting","low","very","many","rawScore","avg","nohave","have","push","group_by","lengthNumber","result","filter","value_by","toFixed","VCardActions","VCardSubtitle","VCardText","VCardTitle","render","_vm","_h","_c","_self","staticClass","staticStyle","_m","_v","_s","agency","count","userDone","score30","attrs","model","callback","$$v","assessmentTab","expression","_l","assessment","issue","i_index","issueIndex","class","percent","_e","toFixed2","sumScore","staticRenderFns","issueRaw","issueData","response","scoreAll","score100","run","getAssessment","getUserAnswer","generateScore","getAverage","getUser","$route","query","year","yearData","assessmentData","getRawIssue","newIndex","oldIndex","assignId","groupIssueRaw","num","sumAvg","sumBy","score","sumOutAvg","choice","i","j","isNaN","components","CardStats","component","VCard","VLayout","VProgressLinear","VTab","VTabItem","VTabs","flat","hover","img","link","raised","computed","classes","styles","style","h","tag","setBackgroundColor","statTitle","statSubtitle","on","$event","$router","statRoute","statIconColor","statIconName","String","statArrow","validator","indexOf","statPercent","statPercentColor","statDescripiron"],"mappings":"8QAIMA,EAAN,yG,0BACW,EAAAC,KAAqB,KACrB,EAAAC,WAA0B,KAC1B,EAAAC,UAAqB,IAHhC,8HAImCC,GAJnC,0GAKe,OAAKC,SAAS,uBAAuBD,IALpD,wSAS6B,OAAKE,QAAL,qBAT7B,OASgBL,EAThB,OAUYM,KAAKN,KAAOA,EACZM,KAAKL,WAAaD,EAAKO,SACP,GAAjBP,EAAKO,UAAqC,GAAjBP,EAAKO,SAC7BD,KAAKJ,UAAaF,EAAKO,SAAU,UAAU,SAE3CD,KAAKJ,UAAY,IAf7B,qSAsBqB,OAAKG,QAAL,qBAtBrB,iJAAwB,QAAlBN,EAAS,gBADd,eAAO,CAACS,yBAAyB,KAC5BT,GA+BC,IAAMU,EAAO,IAAIV,EAAU,CAACW,MAAA,OAAOC,KAAM,U,0EClBjC,oCAA+B,CAC5CA,KAD4C,WAG5CC,MAAO,CACLC,QAAS,CACPC,KAAM,CAACC,QADA,QAEPC,SAAS,GAEXC,aAAc,CACZH,KAAM,CAACI,OADK,QAEZF,QAAS,IAIbG,QAAS,CACPC,YADO,WAEL,WAAId,KAAKO,QAA0B,KAE5BP,KAAKe,OAAOC,UAAYhB,KAAKiB,eAAe,EAApB,KAAqC,CAClEX,MAAO,CACLY,UADK,EAELC,OAAyB,IAAjBnB,KAAKO,SAAN,KAA0BP,KAAKO,QACjCP,KAAKmB,OADH,UAEHnB,KAJC,QAKLoB,OAAQpB,KALH,aAMLqB,eAAe,U,oCC1CzB,gBAGA,e,uOCCMC,EAAN,yG,0BAEY,EAAAC,UAAoB,EACpB,EAAAC,UAAoB,EAHhC,0HAI+BC,EAAUF,EAAmBC,GAJ5D,8FAKQxB,KAAKuB,UAAYA,EACjBvB,KAAKwB,UAAYA,EACbE,EAAkBD,EAP9B,SAQ2B,IAAEE,MAAMD,GACtBE,QAAQ,SACRC,KAAI,SAACC,EAAYC,GAAb,MAA2B,CAC5B1B,KAAMyB,EAAM,GAAGE,WACfC,MAAOF,EACPD,MAAOI,EAAIC,aAAaL,OAE3BA,QAfb,cAQQJ,EARR,yBAgBeA,GAhBf,iJAmBwBU,GAUhB,IATA,IAAIC,EAAW,IAAED,GACZR,QAAQ,eACRC,KAAI,SAACS,EAAUC,GAAX,MAAmB,CACpBA,GAAIA,EACJC,IAAKF,MAERR,QACDW,EAAc,GAETC,EAAQ,EAAGA,EAAQL,EAAIM,OAAQD,IAAS,CAC7C,IAAIE,EAAY,CACZ,KAAQP,EAAIK,GAAOF,IAAI,GAAGK,iBAC1B,WAAcR,EAAIK,GAAOF,IAAI,GAAGM,WAChC,eAAkBT,EAAIK,GAAOF,IAAI,GAAGO,eACpC,OAAUV,EAAIK,GAAOF,IAAIG,OACzB,YAAeN,EAAIK,GAAOF,IAAI,GAAGV,MACjC,QAAW9B,KAAKgD,UAAUX,EAAIK,GAAOF,IAAK,yBAA0BH,EAAIK,GAAOF,IAAIG,QACnF,IAAO3C,KAAKgD,UAAUX,EAAIK,GAAOF,IAAK,OAAQH,EAAIK,GAAOF,IAAIG,QAC7D,KAAQ3C,KAAKgD,UAAUX,EAAIK,GAAOF,IAAK,MAAOH,EAAIK,GAAOF,IAAIG,QAC7D,KAAQ3C,KAAKgD,UAAUX,EAAIK,GAAOF,IAAK,YAAaH,EAAIK,GAAOF,IAAIG,QACnE,KAAQ3C,KAAKgD,UAAUX,EAAIK,GAAOF,IAAK,KAAMH,EAAIK,GAAOF,IAAIG,QAC5D,OAAU3C,KAAKgD,UAAUX,EAAIK,GAAOF,IAAK,QAASH,EAAIK,GAAOF,IAAIG,QACjE,IAAO,GAEX,GAAoC,SAAhCN,EAAIK,GAAOF,IAAI,GAAGM,WAAuB,CACzC,IAAIG,EAAM,EAENA,EADuB,WAAvBL,EAAKG,gBACsB,EAAnBH,EAAKM,QAAQzB,IAA2B,EAAfmB,EAAKO,IAAI1B,IAA4B,EAAhBmB,EAAKQ,KAAK3B,IAA4B,EAAhBmB,EAAKS,KAAK5B,KAAYzB,KAAKuB,WAE5E,EAAnBqB,EAAKM,QAAQzB,IAA2B,EAAfmB,EAAKO,IAAI1B,IAA4B,EAAhBmB,EAAKQ,KAAK3B,IAA4B,EAAhBmB,EAAKS,KAAK5B,KAAYzB,KAAKuB,UAE3G,IAAI+B,EAAYL,EAAMjD,KAAKuB,UAC3BqB,EAAKW,IAAOD,EAAW,EAAM,IAAMA,EAAY,EAAK,IAAMA,OAE1D,GAA2B,WAAvBV,EAAKG,eAA6B,CAClC,IAAI,EAA0B,EAAlBH,EAAKY,OAAO/B,IAA4B,EAAhBmB,EAAKa,KAAKhC,IAC1C,EAAY,EAAMzB,KAAKuB,UAC3BqB,EAAKW,IAAO,EAAW,EAAM,IAAM,EAAY,EAAK,IAAM,MACvD,CACH,IAAI,EAA0B,EAAlBX,EAAKY,OAAO/B,IAA4B,EAAhBmB,EAAKa,KAAKhC,IAC1C,EAAY,EAAMzB,KAAKuB,UAC3BqB,EAAKW,IAAO,EAAW,EAAM,IAAM,EAAY,EAAK,IAAM,EAMlEd,EAAOiB,KAAKd,GAEhB,OAAOH,IArEf,gCAwEqBL,EAAUuB,EAAeC,GACtC,IAAIC,EAAc,IAAEC,OAAO1B,EAAK,CAC5B2B,SAAUJ,IAGd,MAAO,CACH,SAAaE,EAAOlB,OAAS3C,KAAKuB,UAAa,KAAKyC,QAAQ,GAC5D,IAAOH,EAAOlB,YA/E1B,GAAuB,QAAjBrB,EAAQ,gBADb,eAAO,CAAEpB,yBAAyB,KAC7BoB,GAuFC,IAAMY,EAAM,IAAIZ,EAAS,CAAElB,MAAA,OAAOC,KAAM,S,6DC3F/C,kIAGM4D,EAAe,eAArB,mBACMC,EAAgB,eAAtB,oBACMC,EAAY,eAAlB,gBACMC,EAAa,eAAnB,iBAYI,Q,kCClBJ,0BAIe,sBAAf,W,yCCJA,IAAIC,EAAS,WAAa,IAAIC,EAAItE,KAASuE,EAAGD,EAAIrD,eAAmBuD,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,MAAM,CAACE,YAAY,kCAAkCC,YAAY,CAAC,UAAU,MAAM,CAACH,EAAG,MAAM,CAACE,YAAY,6DAA6D,CAAEJ,EAAY,SAAEE,EAAG,MAAM,CAACE,YAAY,sCAAsC,CAACJ,EAAIM,GAAG,GAAGJ,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,MAAM,CAACE,YAAY,kEAAkE,CAACJ,EAAIM,GAAG,GAAGJ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,KAAK,CAACE,YAAY,yDAAyD,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,OAAO1E,eAAemE,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,MAAM,CAACE,YAAY,mEAAmE,CAACJ,EAAIM,GAAG,GAAGJ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,KAAK,CAACE,YAAY,yDAAyD,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,OAAOC,OAAO,eAAeR,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,MAAM,CAACE,YAAY,mEAAmE,CAACJ,EAAIM,GAAG,GAAGJ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,KAAK,CAACE,YAAY,yDAAyD,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIW,UAAU,eAAeT,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,MAAM,CAACE,YAAY,kEAAkE,CAACJ,EAAIM,GAAG,GAAGJ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,KAAK,CAACE,YAAY,yDAAyD,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIY,SAAS,KAAKV,EAAG,OAAO,CAACE,YAAY,WAAW,CAACJ,EAAIO,GAAG,2BAA2BL,EAAG,SAAS,CAACE,YAAY,gCAAgCS,MAAM,CAAC,MAAQ,UAAU,eAAe,WAAWC,MAAM,CAACtD,MAAOwC,EAAiB,cAAEe,SAAS,SAAUC,GAAMhB,EAAIiB,cAAcD,GAAKE,WAAW,kBAAkB,CAAClB,EAAImB,GAAInB,EAAkB,gBAAE,SAASoB,EAAWhD,GAAO,OAAO8B,EAAG,QAAQ,CAACzC,IAAIW,GAAO,CAAC4B,EAAIO,GAAG,IAAIP,EAAIQ,GAAGY,EAAWrF,MAAM,UAASiE,EAAImB,GAAInB,EAAkB,gBAAE,SAASoB,EAAWhD,GAAO,OAAO8B,EAAG,aAAa,CAACzC,IAAIW,GAAO,CAAqB,eAAnBgD,EAAWrF,KAAuBmE,EAAG,MAAMF,EAAImB,GAAInB,EAAa,WAAE,SAASqB,EAAMC,GAAS,OAAOpB,EAAG,MAAM,CAACzC,IAAI6D,EAAQlB,YAAY,OAAO,CAACF,EAAG,SAAS,CAACA,EAAG,eAAe,CAACE,YAAY,oCAAoC,CAACF,EAAG,KAAK,CAACE,YAAY,WAAW,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGa,EAAMtF,WAAWmE,EAAG,cAAcF,EAAImB,GAAIE,EAAW,OAAE,SAAS/C,EAAKiD,GAAY,OAAOrB,EAAG,MAAM,CAACzC,IAAI8D,EAAWnB,YAAY,uCAAuC,CAACF,EAAG,MAAM,CAACE,YAAY,8BAA8BoB,MAA0B,SAAnBlD,EAAKE,WAAuB,sBAAsB,uBAAuB,CAACwB,EAAIO,GAAG,IAAIP,EAAIQ,GAAGlC,EAAKvC,MAAM,OAA2B,SAAnBuC,EAAKE,WAAuB0B,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAAE9B,EAAY,QAAE4B,EAAG,MAAM,CAACF,EAAIO,GAAG,eAAeP,EAAIQ,GAAGlC,EAAKM,QAAQ6C,SAAS,MAAMvB,EAAG,oBAAoB,CAACW,MAAM,CAAC,QAAU,GAAG,OAAS,IAAI,MAAQ,UAAU,MAAQvC,EAAKM,QAAQ6C,QAAQ,eAAe,QAAQ,GAAGzB,EAAI0B,OAAO1B,EAAI0B,KAAyB,SAAnBpD,EAAKE,WAAuB0B,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAAE9B,EAAQ,IAAE4B,EAAG,MAAM,CAACF,EAAIO,GAAG,SAASP,EAAIQ,GAAGlC,EAAKO,IAAI4C,SAAS,MAAMvB,EAAG,oBAAoB,CAACW,MAAM,CAAC,QAAU,GAAG,OAAS,IAAI,MAAQ,UAAU,MAAQvC,EAAKO,IAAI4C,QAAQ,eAAe,QAAQ,GAAGzB,EAAI0B,OAAO1B,EAAI0B,KAAyB,SAAnBpD,EAAKE,WAAuB0B,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAAE9B,EAAS,KAAE4B,EAAG,MAAM,CAACF,EAAIO,GAAG,QAAQP,EAAIQ,GAAGlC,EAAKQ,KAAK2C,SAAS,MAAMvB,EAAG,oBAAoB,CAACW,MAAM,CAAC,QAAU,GAAG,OAAS,IAAI,MAAQ,UAAU,MAAQvC,EAAKQ,KAAK2C,QAAQ,eAAe,QAAQ,GAAGzB,EAAI0B,OAAO1B,EAAI0B,KAAyB,SAAnBpD,EAAKE,WAAuB0B,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAAE9B,EAAS,KAAE4B,EAAG,MAAM,CAACF,EAAIO,GAAG,cAAcP,EAAIQ,GAAGlC,EAAKS,KAAK0C,SAAS,MAAMvB,EAAG,oBAAoB,CAACW,MAAM,CAAC,QAAU,GAAG,OAAS,IAAI,MAAQ,UAAU,MAAQvC,EAAKS,KAAK0C,QAAQ,eAAe,QAAQ,GAAGzB,EAAI0B,OAAO1B,EAAI0B,KAAyB,SAAnBpD,EAAKE,WAAuB0B,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAAE9B,EAAS,KAAE4B,EAAG,MAAM,CAACF,EAAIO,GAAG,UAAUP,EAAIQ,GAAGlC,EAAKY,OAAOuC,SAAS,MAAMvB,EAAG,oBAAoB,CAACW,MAAM,CAAC,QAAU,GAAG,OAAS,IAAI,MAAQ,UAAU,MAAQvC,EAAKY,OAAOuC,QAAQ,eAAe,QAAQ,GAAGzB,EAAI0B,OAAO1B,EAAI0B,KAAyB,SAAnBpD,EAAKE,WAAuB0B,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAAE9B,EAAS,KAAE4B,EAAG,MAAM,CAACF,EAAIO,GAAG,OAAOP,EAAIQ,GAAGlC,EAAKa,KAAKsC,SAAS,MAAMvB,EAAG,oBAAoB,CAACW,MAAM,CAAC,QAAU,GAAG,OAAS,IAAI,MAAQ,UAAU,MAAQvC,EAAKa,KAAKsC,QAAQ,eAAe,QAAQ,GAAGzB,EAAI0B,OAAO1B,EAAI0B,KAAKxB,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAAE9B,EAAQ,IAAE4B,EAAG,MAAM,CAACA,EAAG,KAAK,CAACF,EAAIO,GAAG,SAASP,EAAIQ,GAAGR,EAAI2B,SAASrD,EAAKW,SAASiB,EAAG,oBAAoB,CAACW,MAAM,CAAC,QAAU,GAAG,OAAS,IAAI,MAAQ,UAAU,MAAQvC,EAAKW,IAAI,eAAe,QAAQ,GAAGe,EAAI0B,YAAW,GAAGxB,EAAG,iBAAiB,CAACE,YAAY,aAAa,CAACF,EAAG,WAAW,CAACG,YAAY,CAAC,WAAa,cAAc,OAAS,QAAQQ,MAAM,CAAC,KAAO,GAAG,cAAc,GAAG,MAAQ,cAAc,KAAO,KAAK,CAACX,EAAG,KAAK,CAACE,YAAY,qCAAqC,CAACJ,EAAIO,GAAG,OAAOP,EAAIQ,GAAGR,EAAI4B,SAASP,EAAM7D,QAAQ,KAAK0C,EAAG,OAAO,CAACE,YAAY,WAAW,CAACJ,EAAIO,GAAG,gBAAgB,IAAI,IAAI,MAAK,GAAGL,EAAG,aAAY,IAAI,KAAKF,EAAI0B,UACp2KG,EAAkB,CAAC,WAAa,IAAI7B,EAAItE,KAASuE,EAAGD,EAAIrD,eAAmBuD,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,MAAM,CAACE,YAAY,mEAAmE,CAACF,EAAG,KAAK,CAACE,YAAY,4BAA4B,CAACF,EAAG,OAAO,CAACE,YAAY,2BAA2BS,MAAM,CAAC,YAAY,eAAe,aAAa,MAAMb,EAAIO,GAAG,2BAA2B,WAAa,IAAIP,EAAItE,KAASuE,EAAGD,EAAIrD,eAAmBuD,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,MAAM,CAACE,YAAY,kFAAkF,CAACF,EAAG,KAAK,CAACE,YAAY,qCAAqC,CAACJ,EAAIO,GAAG,iBAAiB,WAAa,IAAIP,EAAItE,KAASuE,EAAGD,EAAIrD,eAAmBuD,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,MAAM,CAACE,YAAY,mFAAmF,CAACF,EAAG,KAAK,CAACE,YAAY,iDAAiD,CAACJ,EAAIO,GAAG,sBAAsB,WAAa,IAAIP,EAAItE,KAASuE,EAAGD,EAAIrD,eAAmBuD,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,MAAM,CAACE,YAAY,mFAAmF,CAACF,EAAG,KAAK,CAACE,YAAY,iDAAiD,CAACJ,EAAIO,GAAG,2BAA2B,WAAa,IAAIP,EAAItE,KAASuE,EAAGD,EAAIrD,eAAmBuD,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,MAAM,CAACE,YAAY,kFAAkF,CAACF,EAAG,KAAK,CAACE,YAAY,iDAAiD,CAACJ,EAAIO,GAAG,oB,mMCyL18C,EAArB,yG,0BAIY,EAAAE,OAAc,KAEd,EAAAQ,cAAwB,EAGxB,EAAAa,SAAgB,GAChB,EAAAC,UAAiB,KACjB,EAAAC,UAAoB,EAEpB,EAAArB,SAAmB,EACnB,EAAAsB,SAAiB,GACjB,EAAAC,SAAmB,EACnB,EAAAtB,QAAkB,EAhB9B,uNAmBclF,KAAKyG,MAnBnB,uBAoBczG,KAAK0G,gBApBnB,uBAqBc1G,KAAK2G,gBArBnB,uBAsBc3G,KAAK4G,gBAtBnB,wBAuBc5G,KAAK6G,aAvBnB,QAwBQ7G,KAAKsG,UAAW,EAxBxB,kSA4B0B,OAAKQ,UA5B/B,cA4BQ9G,KAAKN,KA5Bb,gBA6B4B,OAAKK,QAAL,6BAAmCC,KAAK+G,OAAOC,MAAMjC,OAArD,MA7B5B,cA6BQ/E,KAAK+E,OA7Bb,gBA8B8B,OAAKhF,QAAL,2BAAiCC,KAAK+G,OAAOC,MAAMC,KAAnD,MA9B9B,OA8BQjH,KAAKkH,SA9Bb,kTAmCoC,OAAKnH,QAAL,8CAAoDC,KAAKkH,SAAS3E,KAnCtG,cAmCQvC,KAAKmH,eAnCb,OAoCQnH,KAAKuF,cAAgB,EApC7B,SAqCcvF,KAAKoH,YAAYpH,KAAKmH,eAAe,GAAG5E,IArCtD,iTAyCyB,OAAKX,QAAQ5B,KAAKoG,SAAU,QAzCrD,OAyCY1G,EAzCZ,OA0CQM,KAAKiF,SAAWvF,EAAKiD,OA1C7B,oMA8C4B0E,EAAkBC,GA9C9C,8FA+CYH,EAAiBnH,KAAKmH,eAAeE,GA/CjD,SAiDcrH,KAAKoH,YAAYD,EAAe5E,IAjD9C,yMAoD8BgF,GApD9B,iGAqD8B,OAAKxH,QAAL,oDAA0DC,KAAK+G,OAAOC,MAAMjC,OAA5E,6BAAuGwC,IArDrI,OAqDQvH,KAAKoG,SArDb,8SAyDWpG,KAAKoG,SAASzD,OAAS,GAzDlC,gCA0D+B,OAAI6E,cAAcxH,KAAKoG,SAAUpG,KAAKiF,SAAUjF,KAAK+E,OAAOC,OA1D3F,OA0DYtD,EA1DZ,OA2DQ1B,KAAKqG,UAAY3E,EA3DzB,wIA+Da+F,GACL,OAAOA,EAAIzD,QAAQ,KAhE3B,+BAkEa5B,GAEWA,EAAIO,OAApB,IACI+E,EAAU,IAAEC,MAAMvF,EAAK,OACvBwF,EAASF,EAAStF,EAAIO,OAC1B,OAAOiF,EAAM5D,QAAQ,KAvE7B,iMA8EoB,EACR6D,EAAY,EACZC,EAAS,EACJC,EAAE,EAjFnB,YAiFsBA,EAAI/H,KAAKmH,eAAexE,QAjF9C,iCAkF4B,OAAK5C,QAAL,oDAA0DC,KAAK+G,OAAOC,MAAMjC,OAA5E,6BAAuG/E,KAAKmH,eAAeY,GAAGxF,KAlF1J,cAkFgBd,EAlFhB,iBAmFmC,OAAI+F,cAAc/F,EAAKzB,KAAKiF,SAAUjF,KAAK+E,OAAOC,OAnFrF,QAoFY,IADItD,EAnFhB,OAoFoBsG,EAAE,EAAGA,EAAItG,EAAWiB,OAAQqF,IAC7BN,EAAU1H,KAAKkG,SAASxE,EAAWsG,GAAGlG,OAC1C+F,GAAajH,OAAO8G,GACpBI,IAvFf,QAiFuDC,IAjFvD,uBA4FQ/H,KAAKwG,SAAW5F,QAAQiH,EAAUC,GAAQ9D,QAAQ,IAClDhE,KAAKkF,QAAWtE,QAASiH,EAAUC,EAAQ,IAAK9D,QAAQ,IACrDiE,MAAMjI,KAAKkF,WACVlF,KAAKkF,QAAU,GA/F3B,+GAAkC,QA8C9B,gBADC,eAAM,kB,wBAKN,MAlDgB,EAAI,gBALxB,eAAU,CACPgD,WAAY,CACRC,UAAA,WAGa,WC1LkY,I,qHCOnZC,EAAY,eACd,EACA/D,EACA8B,GACA,EACA,KACA,KACA,MAIa,aAAAiC,EAAiB,QAahC,IAAkBA,EAAW,CAACC,QAAA,KAAMpE,aAAA,OAAaE,UAAA,OAAUC,WAAA,OAAWkE,UAAA,KAAQC,kBAAA,KAAgBC,OAAA,KAAKC,WAAA,KAASC,QAAA,Q,4ICd7F,sBAAO,EAAD,YAAN,eAIN,CACPrI,KADO,SAGPC,MAAO,CACLqI,KADK,QAELC,MAFK,QAGLC,IAHK,OAILC,KAJK,QAKLnI,aAAc,CACZH,KAAM,CAACI,OADK,QAEZF,QAAS,GAEXqI,OAAQtI,SAGVuI,SAAU,CACRC,QADQ,WAEN,sCACE,UADK,GAEF,qCAFE,OAAP,IAGE,eAAgBjJ,KAHX,KAIL,gBAAiBA,KAJZ,MAKL,eAAgBA,KALX,YAML,kBAAmBA,KANd,QAOL,mBAAoBA,KAPf,SAQL,iBAAkBA,KARb,QASF,6CAGPkJ,OAdQ,WAeN,IAAMC,EAAK,kBACN,2CAOL,OAJInJ,KAAJ,MACEmJ,EAAA,0BAA2BnJ,KAA3B,2CAGF,IAIJa,QAAS,CACPC,YADO,WAEL,IAAMuD,EAAS,wCAAf,MAEA,SAEOrE,KAAKiB,eAAe,MAAO,CAChCyD,YADgC,mBAEhC3C,IAAK,YACJ,CAHH,IAFoB,OASxBsC,OAvDO,SAuDD,GAAG,MACerE,KAAtB,oBAAM,EADC,EACD,IAAO4C,EADN,EACMA,KASb,OAPAA,EAAA,MAAa5C,KAAb,OAEIA,KAAJ,cACE4C,EAAA,MAAaA,EAAA,OAAb,GACAA,EAAA,kBAGKwG,EAAEC,EAAKrJ,KAAKsJ,mBAAmBtJ,KAAxB,MAAN,GAAiD,CACvDA,KADuD,cAEvDA,KAAKe,OAFP,c,kCCtFJ,IAAIsD,EAAS,WAAa,IAAIC,EAAItE,KAASuE,EAAGD,EAAIrD,eAAmBuD,EAAGF,EAAIG,MAAMD,IAAID,EAAG,OAAOC,EAAG,MAAM,CAACE,YAAY,gIAAgI,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,oDAAoD,CAACF,EAAG,OAAO,CAACE,YAAY,uCAAuC,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIiF,WAAW,OAAO/E,EAAG,KAAK,CAACE,YAAY,6CAA6C,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIkF,cAAc,OAAOhF,EAAG,MAAM,GAAG,CAACA,EAAG,SAAS,CAACE,YAAY,0CAA0C+E,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOpF,EAAIqF,QAAQjG,KAAKY,EAAIsF,cAAc,CAACtF,EAAIO,GAAG,sBAAsBL,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,MAAM,CAACE,YAAY,8GAA8GoB,MAAM,CAACxB,EAAIuF,gBAAgB,CAACrF,EAAG,IAAI,CAACsB,MAAM,CAACxB,EAAIwF,2BACxgC3D,EAAkB,GC+BtB,G,UAAA,CACE9F,KAAM,aACNC,MAAO,CACLkJ,aAAc,CACZhJ,KAAMuJ,OACNrJ,QAAS,WAGXsJ,UAAW,CACTtJ,QAAS,KACTuJ,UAAW,SAAjB,GAEQ,OAA0C,IAAnC,CAAC,KAAM,QAAQC,QAAQpI,KAGlCqI,YAAa,CACX3J,KAAMuJ,OACNrJ,QAAS,QAIX0J,iBAAkB,CAChB5J,KAAMuJ,OACNrJ,QAAS,kBAEX6I,UAAW,CACT/I,KAAMuJ,OACNrJ,QAAS,WAEX2J,gBAAiB,CACf7J,KAAMuJ,OACNrJ,QAAS,oBAEXoJ,aAAc,CACZtJ,KAAMuJ,OACNrJ,QAAS,oBAIXmJ,cAAe,CACbrJ,KAAMuJ,OACNrJ,QAAS,cAEXkJ,UAAJ,CACMpJ,KAAMuJ,OACNrJ,QAAN,QC7EwW,I,YCOpW0H,EAAY,eACd,EACA/D,EACA8B,GACA,EACA,KACA,KACA,MAIa,OAAAiC,E","file":"js/chunk-6586e9b3.917f748a.js","sourcesContent":["import {VuexModule, Module, Mutation, Action} from \"vuex-class-modules\";\r\nimport {Core} from \"@/store/core\";\r\n\r\n@Module({generateMutationSetters: true})\r\nclass UserClass extends VuexModule {\r\n    public user:object | null = null\r\n    public permission :object|null = null\r\n    public routeUser : string = '/'\r\n    public async autoCreateProfile(from:any): Promise<any>{\r\n        return Core.postHttp('/api/profile/create/',from)\r\n    }\r\n\r\n    public async loadUser(){\r\n            let user = await Core.getHttp(`/api/ita/v2/user/`)\r\n            this.user = user;\r\n            this.permission = user.is_staff\r\n        if(user.is_staff == true || user.is_staff == false){\r\n            this.routeUser = (user.is_staff)?'/admin/':'/user/'\r\n        }else{\r\n            this.routeUser = '/'\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public async getUser(){\r\n        return await Core.getHttp(`/api/ita/v2/user/`)\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nimport store from \"@/store\"\r\n\r\nexport const User = new UserClass({store, name: \"User\"})\r\n","import Vue, { VNode } from 'vue'\nimport VProgressLinear from '../../components/VProgressLinear'\n\ninterface colorable extends Vue {\n  color?: string\n}\n\n/**\n * Loadable\n *\n * @mixin\n *\n * Used to add linear progress bar to components\n * Can use a default bar with a specific color\n * or designate a custom progress linear bar\n */\n/* @vue/component */\nexport default Vue.extend<colorable>().extend({\n  name: 'loadable',\n\n  props: {\n    loading: {\n      type: [Boolean, String],\n      default: false,\n    },\n    loaderHeight: {\n      type: [Number, String],\n      default: 2,\n    },\n  },\n\n  methods: {\n    genProgress (): VNode | VNode[] | null {\n      if (this.loading === false) return null\n\n      return this.$slots.progress || this.$createElement(VProgressLinear, {\n        props: {\n          absolute: true,\n          color: (this.loading === true || this.loading === '')\n            ? (this.color || 'primary')\n            : this.loading,\n          height: this.loaderHeight,\n          indeterminate: true,\n        },\n      })\n    },\n  },\n})\n","import VProgressLinear from './VProgressLinear'\n\nexport { VProgressLinear }\nexport default VProgressLinear\n","import { VuexModule, Module, Mutation, Action } from \"vuex-class-modules\";\r\nimport { Core } from \"@/store/core\";\r\nimport _ from \"lodash\"\r\n@Module({ generateMutationSetters: true })\r\nclass IitClass extends VuexModule {\r\n\r\n    private doingUser: number = 0\r\n    private asignUser: number = 0\r\n    public async groupIssueRaw(raw: any, doingUser: number, asignUser: number) {\r\n        this.doingUser = doingUser\r\n        this.asignUser = asignUser\r\n        let issueGroup: any = raw\r\n        issueGroup = await _.chain(issueGroup)\r\n            .groupBy('issue')\r\n            .map((value: any, key: any) => ({\r\n                name: value[0].issue_name,\r\n                group: key,\r\n                value: Iit.getDataIssue(value)\r\n            }))\r\n            .value();\r\n        return issueGroup\r\n    }\r\n\r\n    public getDataIssue(arr: []) {\r\n        let ans: any = _(arr)\r\n            .groupBy('issueDetail')\r\n            .map((platform, id) => ({\r\n                id: id,\r\n                val: platform\r\n            }))\r\n            .value()\r\n        let answer: any = []\r\n        //console.log('[DATA]', ans)\r\n        for (let index = 0; index < ans.length; index++) {\r\n            let data: any = {\r\n                \"name\": ans[index].val[0].issueDetail_name,\r\n                'issue_type': ans[index].val[0].issue_type,\r\n                'choiceTypeData': ans[index].val[0].choiceTypeData,\r\n                'length': ans[index].val.length,\r\n                'default_val': ans[index].val[0].value,\r\n                \"notting\": this.sumChoice(ans[index].val, 'น้อยที่สุดหรือไม่มีเลย', ans[index].val.length),\r\n                \"low\": this.sumChoice(ans[index].val, 'น้อย', ans[index].val.length),\r\n                \"very\": this.sumChoice(ans[index].val, 'มาก', ans[index].val.length),\r\n                \"many\": this.sumChoice(ans[index].val, 'มากที่สุด', ans[index].val.length),\r\n                \"have\": this.sumChoice(ans[index].val, 'มี', ans[index].val.length),\r\n                \"nohave\": this.sumChoice(ans[index].val, 'ไม่มี', ans[index].val.length),\r\n                'avg': 0.00\r\n            }\r\n            if (ans[index].val[0].issue_type == 'ระดับ') {\r\n                let tmp = 0\r\n                if (data.choiceTypeData == 'เชิงบวก') {\r\n                    tmp = ((data.notting.raw * 1) + (data.low.raw * 2) + (data.very.raw * 3) + (data.many.raw * 4)) / this.doingUser\r\n                } else {\r\n                    tmp = ((data.notting.raw * 4) + (data.low.raw * 1) + (data.very.raw * 2) + (data.many.raw * 3)) / this.doingUser\r\n                }\r\n                let rawScore = (tmp / this.doingUser)\r\n                data.avg = (rawScore > 1) ? (100 * rawScore) / 2 : (100 * rawScore)\r\n            } else {\r\n                if (data.choiceTypeData == 'เชิงบวก') {\r\n                    let tmp = ((data.nohave.raw * 1) + (data.have.raw * 2))\r\n                    let rawScore = (tmp / this.doingUser)\r\n                    data.avg = (rawScore > 1) ? (100 * rawScore) / 2 : (100 * rawScore)\r\n                } else {\r\n                    let tmp = ((data.nohave.raw * 2) + (data.have.raw * 1))\r\n                    let rawScore = (tmp / this.doingUser)\r\n                    data.avg = (rawScore > 1) ? (100 * rawScore) / 2 : (100 * rawScore)\r\n\r\n\r\n                }\r\n            }\r\n            // data.avg = data.avg.toFixed(2)\r\n            answer.push(data)\r\n        }\r\n        return answer\r\n    }\r\n\r\n    public sumChoice(arr: any, group_by: any, lengthNumber: number) {\r\n        let result: any = _.filter(arr, {\r\n            value_by: group_by\r\n        });\r\n        ////console.log('[USERLENGTH]',this.doingUser);\r\n        return {\r\n            \"percent\": ((result.length / this.doingUser) * 100).toFixed(2),\r\n            \"raw\": result.length\r\n        }\r\n    }\r\n\r\n}\r\n\r\nimport store from \"@/store\"\r\n\r\nexport const Iit = new IitClass({ store, name: \"Iit\" })\r\n","import VCard from './VCard'\nimport { createSimpleFunctional } from '../../util/helpers'\n\nconst VCardActions = createSimpleFunctional('v-card__actions')\nconst VCardSubtitle = createSimpleFunctional('v-card__subtitle')\nconst VCardText = createSimpleFunctional('v-card__text')\nconst VCardTitle = createSimpleFunctional('v-card__title')\n\nexport {\n  VCard,\n  VCardActions,\n  VCardSubtitle,\n  VCardText,\n  VCardTitle,\n}\n\nexport default {\n  $_vuetify_subcomponents: {\n    VCard,\n    VCardActions,\n    VCardSubtitle,\n    VCardText,\n    VCardTitle,\n  },\n}\n","import './_grid.sass'\n\nimport Grid from './grid'\n\nexport default Grid('layout')\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relative md:pt-32 pb-32 pt-12  \",staticStyle:{\"z-index\":\"1\"}},[_c('div',{staticClass:\"relative  flex flex-col min-w-0 break-words w-full mb-6  \"},[(_vm.response)?_c('div',{staticClass:\"rounded-t mb-0 px-4 py-3 border-0 \"},[_vm._m(0),_c('div',[_c('section',{staticClass:\"py-8 px-4\"},[_c('div',{staticClass:\"flex flex-wrap -mx-4\"},[_c('div',{staticClass:\"w-full lg:w-1/4 px-4 mb-4 lg:mb-0\"},[_c('div',{staticClass:\"h-35 rounded-xl shadow-xl bg-white border-b-4 border-blue-600 \"},[_vm._m(1),_c('div',{staticClass:\"flex flex-col p-4\"},[_c('h3',{staticClass:\"text-xl mb-3 font-semibold font-heading font-semibold\"},[_vm._v(_vm._s(_vm.agency.name))])])])]),_c('div',{staticClass:\"w-full lg:w-1/4 px-4 mb-4 lg:mb-0\"},[_c('div',{staticClass:\"h-35 rounded-xl shadow-xl bg-white border-b-4 border-yellow-600\"},[_vm._m(2),_c('div',{staticClass:\"flex flex-col p-4\"},[_c('h3',{staticClass:\"text-xl mb-3 font-semibold font-heading font-semibold\"},[_vm._v(_vm._s(_vm.agency.count)+\" คน\")])])])]),_c('div',{staticClass:\"w-full lg:w-1/4 px-4 mb-4 lg:mb-0\"},[_c('div',{staticClass:\"h-35 rounded-xl shadow-xl bg-white border-b-4 border-purple-600\"},[_vm._m(3),_c('div',{staticClass:\"flex flex-col p-4\"},[_c('h3',{staticClass:\"text-xl mb-3 font-semibold font-heading font-semibold\"},[_vm._v(_vm._s(_vm.userDone)+\" คน\")])])])]),_c('div',{staticClass:\"w-full lg:w-1/4 px-4 mb-4 lg:mb-0\"},[_c('div',{staticClass:\"h-35 rounded-xl shadow-xl bg-white border-b-4 border-green-600\"},[_vm._m(4),_c('div',{staticClass:\"flex flex-col p-4\"},[_c('h3',{staticClass:\"text-xl mb-3 font-semibold font-heading font-semibold\"},[_vm._v(\" \"+_vm._s(_vm.score30)+\" \"),_c('span',{staticClass:\"text-sm\"},[_vm._v(\"(คิด 40%)\")])])])])])])]),_c('v-tabs',{staticClass:\"shadow-lg border-4 rounded-xl\",attrs:{\"color\":\"#5E2C73\",\"slider-color\":\"#5E2C73\"},model:{value:(_vm.assessmentTab),callback:function ($$v) {_vm.assessmentTab=$$v},expression:\"assessmentTab\"}},[_vm._l((_vm.assessmentData),function(assessment,index){return _c('v-tab',{key:index},[_vm._v(\" \"+_vm._s(assessment.name)+\" \")])}),_vm._l((_vm.assessmentData),function(assessment,index){return _c('v-tab-item',{key:index},[(assessment.name != 'ข้อเสนอเเนะ')?_c('div',_vm._l((_vm.issueData),function(issue,i_index){return _c('div',{key:i_index,staticClass:\"p-2\"},[_c('v-card',[_c('v-card-title',{staticClass:\"bg-purple-x text-white shadow-xl\"},[_c('h2',{staticClass:\"text-sm\"},[_vm._v(_vm._s(issue.name))])]),_c('v-card-text',_vm._l((issue.value),function(data,issueIndex){return _c('div',{key:issueIndex,staticClass:\"flex flex-wrap overflow-hidden mt-6\"},[_c('div',{staticClass:\"w-full overflow-hidden  p-2\",class:(data.issue_type != 'ระดับ')?'lg:w-6/12 xl:w-6/12':'lg:w-2/12 xl:w-2/12'},[_vm._v(\" \"+_vm._s(data.name)+\" \")]),(data.issue_type == 'ระดับ')?_c('div',{staticClass:\"w-full overflow-hidden lg:w-2/12 xl:w-2/12 p-2\"},[(data.notting)?_c('div',[_vm._v(\" น้อยที่สุด \"+_vm._s(data.notting.percent)+\"% \"),_c('v-progress-linear',{attrs:{\"striped\":\"\",\"height\":\"5\",\"color\":\"#AF7AC5\",\"value\":data.notting.percent,\"buffer-value\":100}})],1):_vm._e()]):_vm._e(),(data.issue_type == 'ระดับ')?_c('div',{staticClass:\"w-full overflow-hidden lg:w-2/12 xl:w-2/12 p-2\"},[(data.low)?_c('div',[_vm._v(\" น้อย \"+_vm._s(data.low.percent)+\"% \"),_c('v-progress-linear',{attrs:{\"striped\":\"\",\"height\":\"5\",\"color\":\"#8E44AD\",\"value\":data.low.percent,\"buffer-value\":100}})],1):_vm._e()]):_vm._e(),(data.issue_type == 'ระดับ')?_c('div',{staticClass:\"w-full overflow-hidden lg:w-2/12 xl:w-2/12 p-2\"},[(data.very)?_c('div',[_vm._v(\" มาก \"+_vm._s(data.very.percent)+\"% \"),_c('v-progress-linear',{attrs:{\"striped\":\"\",\"height\":\"5\",\"color\":\"#7D3C98\",\"value\":data.very.percent,\"buffer-value\":100}})],1):_vm._e()]):_vm._e(),(data.issue_type == 'ระดับ')?_c('div',{staticClass:\"w-full overflow-hidden lg:w-2/12 xl:w-2/12 p-2\"},[(data.many)?_c('div',[_vm._v(\" มากที่สุด \"+_vm._s(data.many.percent)+\"% \"),_c('v-progress-linear',{attrs:{\"striped\":\"\",\"height\":\"5\",\"color\":\"#5B2C6F\",\"value\":data.many.percent,\"buffer-value\":100}})],1):_vm._e()]):_vm._e(),(data.issue_type != 'ระดับ')?_c('div',{staticClass:\"w-full overflow-hidden lg:w-2/12 xl:w-2/12 p-2\"},[(data.have)?_c('div',[_vm._v(\" ไม่มี \"+_vm._s(data.nohave.percent)+\"% \"),_c('v-progress-linear',{attrs:{\"striped\":\"\",\"height\":\"5\",\"color\":\"#A763C3\",\"value\":data.nohave.percent,\"buffer-value\":100}})],1):_vm._e()]):_vm._e(),(data.issue_type != 'ระดับ')?_c('div',{staticClass:\"w-full overflow-hidden lg:w-2/12 xl:w-2/12 p-2\"},[(data.have)?_c('div',[_vm._v(\" มี \"+_vm._s(data.have.percent)+\"% \"),_c('v-progress-linear',{attrs:{\"striped\":\"\",\"height\":\"5\",\"color\":\"#7D3C98\",\"value\":data.have.percent,\"buffer-value\":100}})],1):_vm._e()]):_vm._e(),_c('div',{staticClass:\"w-full overflow-hidden lg:w-2/12 xl:w-2/12 p-2\"},[(data.avg)?_c('div',[_c('h2',[_vm._v(\"คะแนน \"+_vm._s(_vm.toFixed2(data.avg)))]),_c('v-progress-linear',{attrs:{\"striped\":\"\",\"height\":\"5\",\"color\":\"#1E8449\",\"value\":data.avg,\"buffer-value\":100}})],1):_vm._e()])])}),0),_c('v-card-actions',{staticClass:\"bg-gray-x\"},[_c('v-layout',{staticStyle:{\"background\":\"transparent\",\"height\":\"28px\"},attrs:{\"flex\":\"\",\"justify-end\":\"\",\"color\":\"transparent\",\"flat\":\"\"}},[_c('h2',{staticClass:\"text-green-600  text-xl font-bold\"},[_vm._v(\"รวม \"+_vm._s(_vm.sumScore(issue.value))+\" \"),_c('span',{staticClass:\"text-sm\"},[_vm._v(\"คะแนน\")])])])],1)],1)],1)}),0):_c('div')])})],2)],1)]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relative w-full mt-4 mb-4 max-w-full flex-grow flex-1 px-2 py-2\"},[_c('h3',{staticClass:\"  text-2xl text-gray-800\"},[_c('span',{staticClass:\"em em-briefcase text-2xl\",attrs:{\"aria-role\":\"presentation\",\"aria-label\":\"\"}}),_vm._v(\" ผลการประเมิน EIT \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex items-center justify-between py-3 px-4 border-b bg-blue-600 rounded-t-xl \"},[_c('h3',{staticClass:\"text-lg   font-heading text-white\"},[_vm._v(\"หน่วยงาน\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex items-center justify-between px-4 py-3 border-b bg-yellow-600 rounded-t-xl\"},[_c('h3',{staticClass:\"text-lg font-semibold font-heading text-white\"},[_vm._v(\"บุคคลากรภายใน\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex items-center justify-between px-4 py-3 border-b bg-purple-600 rounded-t-xl\"},[_c('h3',{staticClass:\"text-lg font-semibold font-heading text-white\"},[_vm._v(\"บุคคลากรที่ประเมิน\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex items-center justify-between px-4 py-3 border-b bg-green-600 rounded-t-xl\"},[_c('h3',{staticClass:\"text-lg font-semibold font-heading text-white\"},[_vm._v(\"ผลคะแนนรวม\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {\r\n    Component,\r\n    Vue,\r\n    Watch\r\n} from 'vue-property-decorator';\r\nimport CardStats from \"@/components/Cards/CardStatWithBtn.vue\";\r\n\r\nimport {\r\n    Auth\r\n} from '@/store/auth'\r\nimport {\r\n    Core\r\n} from '@/store/core'\r\nimport {\r\n    User\r\n} from '@/store/user'\r\nimport {\r\n    Iit\r\n} from '@/store/iit'\r\nimport _ from \"lodash\"\r\n\r\n@Component({\r\n    components: {\r\n        CardStats\r\n    },\r\n})\r\nexport default class Home extends Vue {\r\n\r\n    private user!: any;\r\n    private yearData!: any;\r\n    private agency: any = null\r\n\r\n    private assessmentTab: number = 0\r\n    private assessmentData!: any;\r\n\r\n    private issueRaw: any = [];\r\n    private issueData: any = null;\r\n    private response: boolean = false;\r\n\r\n    private userDone: number = 0\r\n    private scoreAll : any = []\r\n    private score100 :number = 0\r\n    private score30 :number = 0\r\n\r\n    public async created() {\r\n        await this.run();\r\n        await this.getAssessment();\r\n        await this.getUserAnswer()\r\n        await this.generateScore();\r\n        await this.getAverage();\r\n        this.response = true\r\n    }\r\n\r\n    private async run() {\r\n        this.user = await User.getUser();\r\n        this.agency = await Core.getHttp(`/api/ita/v1/agency/${this.$route.query.agency}/`)\r\n        this.yearData = await Core.getHttp(`/api/eit/v2/year/${this.$route.query.year}/`)\r\n        \r\n    }\r\n\r\n    private async getAssessment() {\r\n        this.assessmentData = await Core.getHttp(`/api/eit/v2/assessmentissues/?&year=${this.yearData.id}`)\r\n        this.assessmentTab = 0\r\n        await this.getRawIssue(this.assessmentData[0].id)\r\n    }\r\n\r\n    private async getUserAnswer() {\r\n        let user = await Core.groupBy(this.issueRaw, 'user')\r\n        this.userDone = user.length\r\n    }\r\n\r\n    @Watch('assessmentTab')\r\n    private async switchTab(newIndex: number, oldIndex: number) {\r\n        let assessmentData = this.assessmentData[newIndex]\r\n        //console.log(newIndex, assessmentData.id)\r\n        await this.getRawIssue(assessmentData.id)\r\n    }\r\n\r\n    private async getRawIssue(assignId: number) {\r\n        this.issueRaw = await Core.getHttp(`/api/eit/v2/answerissueeit-report/?agency=${this.$route.query.agency}&assessmentIssues=${assignId}`)\r\n    }\r\n\r\n    private async generateScore() {\r\n        if(this.issueRaw.length > 0){\r\n        let issueGroup = await Iit.groupIssueRaw(this.issueRaw, this.userDone, this.agency.count);\r\n        this.issueData = issueGroup\r\n        }\r\n      \r\n    }\r\n    toFixed2(num:number){\r\n        return num.toFixed(2);\r\n    }\r\n    sumScore(arr:any){\r\n        //console.log(arr);\r\n        let numberArr = arr.length;\r\n        let sumAvg =  _.sumBy(arr, 'avg');  \r\n        let score = (sumAvg / arr.length); \r\n        return score.toFixed(2);\r\n    }\r\n\r\n\r\n\r\n\r\n    async getAverage(){\r\n        let count = 0;\r\n        let sumOutAvg = 0;\r\n        let choice = 0;\r\n        for (let i=0; i < this.assessmentData.length ; i++){\r\n            let raw = await Core.getHttp(`/api/eit/v2/answerissueeit-report/?agency=${this.$route.query.agency}&assessmentIssues=${this.assessmentData[i].id}`)\r\n            let issueGroup = await Iit.groupIssueRaw(raw, this.userDone, this.agency.count);\r\n            for(let j=0; j < issueGroup.length; j++){\r\n               let sumAvg =  this.sumScore(issueGroup[j].value)  \r\n               sumOutAvg += Number(sumAvg)\r\n               choice++;\r\n              \r\n            }\r\n           \r\n        }\r\n        this.score100 = Number((sumOutAvg/choice).toFixed(2))\r\n        this.score30 =  Number(((sumOutAvg/choice)*0.4).toFixed(2))\r\n        if(isNaN(this.score30)  ){\r\n            this.score30 = 0.00\r\n        }\r\n     \r\n    }\r\n\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EIT_DETAIL.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EIT_DETAIL.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EIT_DETAIL.vue?vue&type=template&id=2e0e7f55&\"\nimport script from \"./EIT_DETAIL.vue?vue&type=script&lang=ts&\"\nexport * from \"./EIT_DETAIL.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VCard,VCardActions,VCardText,VCardTitle,VLayout,VProgressLinear,VTab,VTabItem,VTabs})\n","// Styles\nimport './VCard.sass'\n\n// Extensions\nimport VSheet from '../VSheet'\n\n// Mixins\nimport Loadable from '../../mixins/loadable'\nimport Routable from '../../mixins/routable'\n\n// Helpers\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\n/* @vue/component */\nexport default mixins(\n  Loadable,\n  Routable,\n  VSheet\n).extend({\n  name: 'v-card',\n\n  props: {\n    flat: Boolean,\n    hover: Boolean,\n    img: String,\n    link: Boolean,\n    loaderHeight: {\n      type: [Number, String],\n      default: 4,\n    },\n    raised: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-card': true,\n        ...Routable.options.computed.classes.call(this),\n        'v-card--flat': this.flat,\n        'v-card--hover': this.hover,\n        'v-card--link': this.isClickable,\n        'v-card--loading': this.loading,\n        'v-card--disabled': this.disabled,\n        'v-card--raised': this.raised,\n        ...VSheet.options.computed.classes.call(this),\n      }\n    },\n    styles (): object {\n      const style: Dictionary<string> = {\n        ...VSheet.options.computed.styles.call(this),\n      }\n\n      if (this.img) {\n        style.background = `url(\"${this.img}\") center center / cover no-repeat`\n      }\n\n      return style\n    },\n  },\n\n  methods: {\n    genProgress () {\n      const render = Loadable.options.methods.genProgress.call(this)\n\n      if (!render) return null\n\n      return this.$createElement('div', {\n        staticClass: 'v-card__progress',\n        key: 'progress',\n      }, [render])\n    },\n  },\n\n  render (h): VNode {\n    const { tag, data } = this.generateRouteLink()\n\n    data.style = this.styles\n\n    if (this.isClickable) {\n      data.attrs = data.attrs || {}\n      data.attrs.tabindex = 0\n    }\n\n    return h(tag, this.setBackgroundColor(this.color, data), [\n      this.genProgress(),\n      this.$slots.default,\n    ])\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relative flex flex-col min-w-0 break-words bg-white rounded-lg  shadow-xl mb-6 xl:mb-0 shadow-lg border-b-4 border-green-600\"},[_c('div',{staticClass:\"flex-auto p-4\"},[_c('div',{staticClass:\"flex flex-wrap\"},[_c('div',{staticClass:\"relative w-full pr-4 max-w-full flex-grow flex-1\"},[_c('span',{staticClass:\"font-semibold text-xl text-gray-800\"},[_vm._v(\" \"+_vm._s(_vm.statTitle)+\" \")]),_c('h5',{staticClass:\"text-gray-500 uppercase font-bold text-xs\"},[_vm._v(\" \"+_vm._s(_vm.statSubtitle)+\" \")]),_c('div',{},[_c('button',{staticClass:\"mt-2 text-green-600 font-bold text-tiny\",on:{\"click\":function($event){return _vm.$router.push(_vm.statRoute)}}},[_vm._v(\"ดูรายระเอียด\")])])]),_c('div',{staticClass:\"relative w-auto pl-4 flex-initial\"},[_c('div',{staticClass:\"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full text-xl\",class:[_vm.statIconColor]},[_c('i',{class:[_vm.statIconName]})])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"relative flex flex-col min-w-0 break-words bg-white rounded-lg  shadow-xl mb-6 xl:mb-0 shadow-lg border-b-4 border-green-600\"\r\n  >\r\n    <div class=\"flex-auto p-4\">\r\n      <div class=\"flex flex-wrap\">\r\n        <div class=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\r\n          <span class=\"font-semibold text-xl text-gray-800\">\r\n            {{ statTitle }}\r\n          </span>\r\n          <h5 class=\"text-gray-500 uppercase font-bold text-xs\">\r\n            {{ statSubtitle }}\r\n          </h5>\r\n\r\n          <div class >\r\n            <button class=\"mt-2 text-green-600 font-bold text-tiny\" @click=\"$router.push(statRoute)\">ดูรายระเอียด</button>\r\n          </div>\r\n\r\n        </div>\r\n        <div class=\"relative w-auto pl-4 flex-initial\">\r\n          <div\r\n            class=\"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full text-xl\"\r\n            :class=\"[statIconColor]\"\r\n          >\r\n            <i :class=\"[statIconName]\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"card-stats\",\r\n  props: {\r\n    statSubtitle: {\r\n      type: String,\r\n      default: \"Traffic\",\r\n    },\r\n\r\n    statArrow: {\r\n      default: \"up\",\r\n      validator: function (value) {\r\n        // The value must match one of these strings\r\n        return [\"up\", \"down\"].indexOf(value) !== -1;\r\n      },\r\n    },\r\n    statPercent: {\r\n      type: String,\r\n      default: \"3.48\",\r\n    },\r\n    // can be any of the text color utilities\r\n    // from tailwindcss\r\n    statPercentColor: {\r\n      type: String,\r\n      default: \"text-green-500\",\r\n    },\r\n    statTitle: {\r\n      type: String,\r\n      default: \"350,897\",\r\n    },\r\n    statDescripiron: {\r\n      type: String,\r\n      default: \"Since last month\",\r\n    },\r\n    statIconName: {\r\n      type: String,\r\n      default: \"far fa-chart-bar\",\r\n    },\r\n    // can be any of the background color utilities\r\n    // from tailwindcss\r\n    statIconColor: {\r\n      type: String,\r\n      default: \"bg-red-500\",\r\n    },\r\n    statRoute:{\r\n      type: String,\r\n      default:\"#\"\r\n    }\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardStatWithBtn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardStatWithBtn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CardStatWithBtn.vue?vue&type=template&id=05af2c9c&\"\nimport script from \"./CardStatWithBtn.vue?vue&type=script&lang=js&\"\nexport * from \"./CardStatWithBtn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}