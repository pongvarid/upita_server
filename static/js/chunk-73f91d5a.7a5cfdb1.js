(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73f91d5a"],{1148:function(e,t,r){"use strict";var n=r("a691"),a=r("1d80");e.exports="".repeat||function(e){var t=String(a(this)),r="",i=n(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(r+=t);return r}},"21d1":function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));r("96cf");var n=r("1da1"),a=r("d4ec"),i=r("bee2"),s=r("262e"),u=r("2caf"),c=r("9ab4"),o=r("8d27"),l=r("dcc8"),f=r("0613"),p=function(e){Object(s["a"])(r,e);var t=Object(u["a"])(r);function r(){var e;return Object(a["a"])(this,r),e=t.apply(this,arguments),e.user=null,e.permission=null,e.routeUser="/",e}return Object(i["a"])(r,[{key:"autoCreateProfile",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",l["a"].postHttp("/api/profile/create/",t));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadUser",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].getHttp("/api/ita/v2/user/");case 2:t=e.sent,this.user=t,this.permission=t.is_staff,1==t.is_staff||0==t.is_staff?this.routeUser=t.is_staff?"/admin/":"/user/":this.routeUser="/";case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUser",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].getHttp("/api/ita/v2/user/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(o["b"]);p=Object(c["c"])([Object(o["a"])({generateMutationSetters:!0})],p);var v=new p({store:f["a"],name:"User"})},2622:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"relative md:pt-32 pb-32 pt-12  ",staticStyle:{"z-index":"1"}},[r("div",{staticClass:"relative  flex flex-col min-w-0 break-words w-full mb-6  "},[e.response?r("div",{staticClass:"rounded-t mb-0 px-4 py-3 border-0 "},[e._m(0)]):e._e()])])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"relative w-full mt-4 mb-4 max-w-full flex-grow flex-1 px-2 py-2"},[r("h3",{staticClass:"  text-2xl text-gray-800"},[r("span",{staticClass:"em em-briefcase text-2xl",attrs:{"aria-role":"presentation","aria-label":""}}),e._v(" รายงาน IIT ")])])}],i=(r("99af"),r("a9e3"),r("b680"),r("96cf"),r("1da1")),s=r("d4ec"),u=r("bee2"),c=r("262e"),o=r("2caf"),l=r("9ab4"),f=r("60a3"),p=r("b14a"),v=r("dcc8"),h=r("21d1"),d=r("5d53"),g=r("2ef0"),b=r.n(g),x=function(e){Object(c["a"])(r,e);var t=Object(o["a"])(r);function r(){var e;return Object(s["a"])(this,r),e=t.apply(this,arguments),e.agency=null,e.response=!1,e}return Object(u["a"])(r,[{key:"created",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.run();case 2:this.response=!0;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"run",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h["a"].getUser();case 2:return this.user=e.sent,e.next=5,v["a"].getHttp("/api/ita/v1/agency/");case 5:this.agency=e.sent;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"generateReport",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.agency.length)){e.next=9;break}return e.next=4,this.IITGenerate(this.agency[t]);case 4:r=e.sent,console.log(r);case 6:t++,e.next=1;break;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"IITGenerate",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i,s,u,c,o,l,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v["a"].getHttp("/api/iit/v2/assessmentissues/?&year=1");case 2:r=e.sent,n=0;case 4:if(!(n<r.length)){e.next=25;break}return e.next=7,v["a"].getHttp("/api/iit/v2/answerissue-report/?agency=".concat(t.id,"&assessmentIssues=").concat(r[n].id));case 7:return a=e.sent,e.next=10,v["a"].groupBy(a,"user");case 10:return i=e.sent,s=i.length,e.next=14,d["a"].groupIssueRaw(a,s,t.count);case 14:for(u=e.sent,0,c=0,o=0,l=0;l<u.length;l++)f=this.sumScore(u[l].value),c+=Number(f),o++;return p=Number((c/o*.3).toFixed(2)),isNaN(p)&&(p=0),e.abrupt("return",p);case 22:n++,e.next=4;break;case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toFixed2",value:function(e){return e.toFixed(2)}},{key:"sumScore",value:function(e){e.length;var t=b.a.sumBy(e,"avg"),r=t/e.length;return r.toFixed(2)}}]),r}(f["b"]);x=Object(l["c"])([Object(f["a"])({components:{CardStats:p["a"]}})],x);var w=x,m=w,y=r("2877"),O=Object(y["a"])(m,n,a,!1,null,null,null);t["default"]=O.exports},"408a":function(e,t,r){var n=r("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},"4de4":function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").filter,i=r("1dde"),s=r("ae40"),u=i("filter"),c=s("filter");n({target:"Array",proto:!0,forced:!u||!c},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("1d80"),a=r("5899"),i="["+a+"]",s=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),c=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(s,"")),2&e&&(r=r.replace(u,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},"5d53":function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));r("4de4"),r("d81d"),r("b680"),r("96cf");var n=r("1da1"),a=r("d4ec"),i=r("bee2"),s=r("262e"),u=r("2caf"),c=r("9ab4"),o=r("8d27"),l=r("2ef0"),f=r.n(l),p=r("0613"),v=function(e){Object(s["a"])(r,e);var t=Object(u["a"])(r);function r(){var e;return Object(a["a"])(this,r),e=t.apply(this,arguments),e.doingUser=0,e.asignUser=0,e}return Object(i["a"])(r,[{key:"groupIssueRaw",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.doingUser=r,this.asignUser=n,a=t,e.next=5,f.a.chain(a).groupBy("issue").map((function(e,t){return{name:e[0].issue_name,group:t,value:h.getDataIssue(e)}})).value();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));function t(t,r,n){return e.apply(this,arguments)}return t}()},{key:"getDataIssue",value:function(e){for(var t=f()(e).groupBy("issueDetail").map((function(e,t){return{id:t,val:e}})).value(),r=[],n=0;n<t.length;n++){var a={name:t[n].val[0].issueDetail_name,issue_type:t[n].val[0].issue_type,choiceTypeData:t[n].val[0].choiceTypeData,length:t[n].val.length,default_val:t[n].val[0].value,notting:this.sumChoice(t[n].val,"น้อยที่สุดหรือไม่มีเลย",t[n].val.length),low:this.sumChoice(t[n].val,"น้อย",t[n].val.length),very:this.sumChoice(t[n].val,"มาก",t[n].val.length),many:this.sumChoice(t[n].val,"มากที่สุด",t[n].val.length),have:this.sumChoice(t[n].val,"มี",t[n].val.length),nohave:this.sumChoice(t[n].val,"ไม่มี",t[n].val.length),avg:0};if("ระดับ"==t[n].val[0].issue_type){var i=0;i="เชิงบวก"==a.choiceTypeData?(1*a.notting.raw+2*a.low.raw+3*a.very.raw+4*a.many.raw)/this.doingUser:(4*a.notting.raw+1*a.low.raw+2*a.very.raw+3*a.many.raw)/this.doingUser;var s=i/this.doingUser;a.avg=s>1?100*s/2:100*s}else if("เชิงบวก"==a.choiceTypeData){var u=1*a.nohave.raw+2*a.have.raw,c=u/this.doingUser;a.avg=c>1?100*c/2:100*c}else{var o=2*a.nohave.raw+1*a.have.raw,l=o/this.doingUser;a.avg=l>1?100*l/2:100*l}r.push(a)}return r}},{key:"sumChoice",value:function(e,t,r){var n=f.a.filter(e,{value_by:t});return{percent:(n.length/this.doingUser*100).toFixed(2),raw:n.length}}}]),r}(o["b"]);v=Object(c["c"])([Object(o["a"])({generateMutationSetters:!0})],v);var h=new v({store:p["a"],name:"Iit"})},7156:function(e,t,r){var n=r("861d"),a=r("d2bb");e.exports=function(e,t,r){var i,s;return a&&"function"==typeof(i=t.constructor)&&i!==r&&n(s=i.prototype)&&s!==r.prototype&&a(e,s),e}},8418:function(e,t,r){"use strict";var n=r("c04e"),a=r("9bf2"),i=r("5c6c");e.exports=function(e,t,r){var s=n(t);s in e?a.f(e,s,i(0,r)):e[s]=r}},"99af":function(e,t,r){"use strict";var n=r("23e7"),a=r("d039"),i=r("e8b5"),s=r("861d"),u=r("7b0b"),c=r("50c4"),o=r("8418"),l=r("65f0"),f=r("1dde"),p=r("b622"),v=r("2d00"),h=p("isConcatSpreadable"),d=9007199254740991,g="Maximum allowed index exceeded",b=v>=51||!a((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),x=f("concat"),w=function(e){if(!s(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)},m=!b||!x;n({target:"Array",proto:!0,forced:m},{concat:function(e){var t,r,n,a,i,s=u(this),f=l(s,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(i=-1===t?s:arguments[t],w(i)){if(a=c(i.length),p+a>d)throw TypeError(g);for(r=0;r<a;r++,p++)r in i&&o(f,p,i[r])}else{if(p>=d)throw TypeError(g);o(f,p++,i)}return f.length=p,f}})},a640:function(e,t,r){"use strict";var n=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},a9e3:function(e,t,r){"use strict";var n=r("83ab"),a=r("da84"),i=r("94ca"),s=r("6eeb"),u=r("5135"),c=r("c6b6"),o=r("7156"),l=r("c04e"),f=r("d039"),p=r("7c73"),v=r("241c").f,h=r("06cf").f,d=r("9bf2").f,g=r("58a8").trim,b="Number",x=a[b],w=x.prototype,m=c(p(w))==b,y=function(e){var t,r,n,a,i,s,u,c,o=l(e,!1);if("string"==typeof o&&o.length>2)if(o=g(o),t=o.charCodeAt(0),43===t||45===t){if(r=o.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(o.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+o}for(i=o.slice(2),s=i.length,u=0;u<s;u++)if(c=i.charCodeAt(u),c<48||c>a)return NaN;return parseInt(i,n)}return+o};if(i(b,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var O,I=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof I&&(m?f((function(){w.valueOf.call(r)})):c(r)!=b)?o(new x(y(t)),r,I):y(t)},C=n?v(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;C.length>_;_++)u(x,O=C[_])&&!u(I,O)&&d(I,O,h(x,O));I.prototype=w,w.constructor=I,s(a,b,I)}},b14a:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"relative flex flex-col min-w-0 break-words bg-white rounded-lg  shadow-xl mb-6 xl:mb-0 shadow-lg border-b-4 border-green-600"},[r("div",{staticClass:"flex-auto p-4"},[r("div",{staticClass:"flex flex-wrap"},[r("div",{staticClass:"relative w-full pr-4 max-w-full flex-grow flex-1"},[r("span",{staticClass:"font-semibold text-xl text-gray-800"},[e._v(" "+e._s(e.statTitle)+" ")]),r("h5",{staticClass:"text-gray-500 uppercase font-bold text-xs"},[e._v(" "+e._s(e.statSubtitle)+" ")]),r("div",{},[r("button",{staticClass:"mt-2 text-green-600 font-bold text-tiny",on:{click:function(t){return e.$router.push(e.statRoute)}}},[e._v("ดูรายระเอียด")])])]),r("div",{staticClass:"relative w-auto pl-4 flex-initial"},[r("div",{staticClass:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full text-xl",class:[e.statIconColor]},[r("i",{class:[e.statIconName]})])])])])])},a=[],i=(r("c975"),{name:"card-stats",props:{statSubtitle:{type:String,default:"Traffic"},statArrow:{default:"up",validator:function(e){return-1!==["up","down"].indexOf(e)}},statPercent:{type:String,default:"3.48"},statPercentColor:{type:String,default:"text-green-500"},statTitle:{type:String,default:"350,897"},statDescripiron:{type:String,default:"Since last month"},statIconName:{type:String,default:"far fa-chart-bar"},statIconColor:{type:String,default:"bg-red-500"},statRoute:{type:String,default:"#"}}}),s=i,u=r("2877"),c=Object(u["a"])(s,n,a,!1,null,null,null);t["a"]=c.exports},b680:function(e,t,r){"use strict";var n=r("23e7"),a=r("a691"),i=r("408a"),s=r("1148"),u=r("d039"),c=1..toFixed,o=Math.floor,l=function(e,t,r){return 0===t?r:t%2===1?l(e,t-1,r*e):l(e*e,t/2,r)},f=function(e){var t=0,r=e;while(r>=4096)t+=12,r/=4096;while(r>=2)t+=1,r/=2;return t},p=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!u((function(){c.call({})}));n({target:"Number",proto:!0,forced:p},{toFixed:function(e){var t,r,n,u,c=i(this),p=a(e),v=[0,0,0,0,0,0],h="",d="0",g=function(e,t){var r=-1,n=t;while(++r<6)n+=e*v[r],v[r]=n%1e7,n=o(n/1e7)},b=function(e){var t=6,r=0;while(--t>=0)r+=v[t],v[t]=o(r/e),r=r%e*1e7},x=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==v[e]){var r=String(v[e]);t=""===t?r:t+s.call("0",7-r.length)+r}return t};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(h="-",c=-c),c>1e-21)if(t=f(c*l(2,69,1))-69,r=t<0?c*l(2,-t,1):c/l(2,t,1),r*=4503599627370496,t=52-t,t>0){g(0,r),n=p;while(n>=7)g(1e7,0),n-=7;g(l(10,n,1),0),n=t-1;while(n>=23)b(1<<23),n-=23;b(1<<n),g(1,1),b(2),d=x()}else g(0,r),g(1<<-t,0),d=x()+s.call("0",p);return p>0?(u=d.length,d=h+(u<=p?"0."+s.call("0",p-u)+d:d.slice(0,u-p)+"."+d.slice(u-p))):d=h+d,d}})},c975:function(e,t,r){"use strict";var n=r("23e7"),a=r("4d64").indexOf,i=r("a640"),s=r("ae40"),u=[].indexOf,c=!!u&&1/[1].indexOf(1,-0)<0,o=i("indexOf"),l=s("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!o||!l},{indexOf:function(e){return c?u.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-73f91d5a.7a5cfdb1.js.map