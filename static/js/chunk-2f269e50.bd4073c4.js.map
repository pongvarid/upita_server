{"version":3,"sources":["webpack:///./src/store/user.ts","webpack:///./src/views/admin/IIT_MAP.vue?23e9","webpack:///./src/views/admin/IIT_MAP.vue","webpack:///./src/views/admin/IIT_MAP.vue?3fb0","webpack:///./src/views/admin/IIT_MAP.vue?45d0","webpack:///./src/store/iit.ts","webpack:///./src/components/Cards/CardStatWithBtn.vue?e269","webpack:///src/components/Cards/CardStatWithBtn.vue","webpack:///./src/components/Cards/CardStatWithBtn.vue?7f20","webpack:///./src/components/Cards/CardStatWithBtn.vue"],"names":["UserClass","user","permission","routeUser","from","postHttp","getHttp","this","is_staff","generateMutationSetters","User","store","name","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","_m","_e","staticRenderFns","attrs","_v","agency","response","run","getUser","i","length","IITGenerate","score","console","log","assessmentData","id","raw","groupBy","userDone","groupIssueRaw","count","issueGroup","sumOutAvg","choice","j","sumAvg","sumScore","value","Number","score30","toFixed","isNaN","num","arr","sumBy","components","CardStats","component","IitClass","doingUser","asignUser","chain","map","key","issue_name","group","Iit","getDataIssue","ans","platform","val","answer","index","data","issueDetail_name","issue_type","choiceTypeData","sumChoice","tmp","notting","low","very","many","rawScore","avg","nohave","have","push","group_by","lengthNumber","result","filter","value_by","_s","statTitle","statSubtitle","on","$event","$router","statRoute","class","statIconColor","statIconName","props","type","String","default","statArrow","validator","indexOf","statPercent","statPercentColor","statDescripiron"],"mappings":"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","file":"js/chunk-2f269e50.bd4073c4.js","sourcesContent":["import {VuexModule, Module, Mutation, Action} from \"vuex-class-modules\";\r\nimport {Core} from \"@/store/core\";\r\n\r\n@Module({generateMutationSetters: true})\r\nclass UserClass extends VuexModule {\r\n    public user:object | null = null\r\n    public permission :object|null = null\r\n    public routeUser : string = '/'\r\n    public async autoCreateProfile(from:any): Promise<any>{\r\n        return Core.postHttp('/api/profile/create/',from)\r\n    }\r\n\r\n    public async loadUser(){\r\n            let user = await Core.getHttp(`/api/ita/v2/user/`)\r\n            this.user = user;\r\n            this.permission = user.is_staff\r\n        if(user.is_staff == true || user.is_staff == false){\r\n            this.routeUser = (user.is_staff)?'/admin/':'/user/'\r\n        }else{\r\n            this.routeUser = '/'\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public async getUser(){\r\n        return await Core.getHttp(`/api/ita/v2/user/`)\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nimport store from \"@/store\"\r\n\r\nexport const User = new UserClass({store, name: \"User\"})\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relative md:pt-32 pb-32 pt-12  \",staticStyle:{\"z-index\":\"1\"}},[_c('div',{staticClass:\"relative  flex flex-col min-w-0 break-words w-full mb-6  \"},[(_vm.response)?_c('div',{staticClass:\"rounded-t mb-0 px-4 py-3 border-0 \"},[_vm._m(0)]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relative w-full mt-4 mb-4 max-w-full flex-grow flex-1 px-2 py-2\"},[_c('h3',{staticClass:\"  text-2xl text-gray-800\"},[_c('span',{staticClass:\"em em-briefcase text-2xl\",attrs:{\"aria-role\":\"presentation\",\"aria-label\":\"\"}}),_vm._v(\" รายงาน IIT \")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport {\r\n    Component,\r\n    Vue,\r\n    Watch\r\n} from 'vue-property-decorator';\r\nimport CardStats from \"@/components/Cards/CardStatWithBtn.vue\";\r\n\r\nimport {\r\n    Auth\r\n} from '@/store/auth'\r\nimport {\r\n    Core\r\n} from '@/store/core'\r\nimport {\r\n    User\r\n} from '@/store/user'\r\nimport {\r\n    Iit\r\n} from '@/store/iit'\r\nimport _ from \"lodash\"\r\n\r\n@Component({\r\n    components: {\r\n        CardStats\r\n    },\r\n})\r\nexport default class Home extends Vue {\r\n\r\n    private user!: any;\r\n    private yearData!: any;\r\n    private agency: any = null\r\n    private response: any = false;\r\n\r\n    public async created() {\r\n        await this.run();\r\n\r\n        this.response = true\r\n    }\r\n\r\n    private async run() {\r\n        this.user = await User.getUser();\r\n        this.agency = await Core.getHttp(`/api/ita/v1/agency/`)\r\n      //  await this.generateReport()\r\n        // this.yearData = await Core.getHttp(`/api/iit/v2/year/${this.$route.query.year}/`) \r\n    }\r\n\r\n    private async generateReport() {\r\n        for (let i = 0; i < this.agency.length; i++) {\r\n            let score = await this.IITGenerate(this.agency[i])\r\n            console.log(score);\r\n        }\r\n    }\r\n\r\n    /**************IIT ZONE ************/\r\n\r\n    private async IITGenerate(agency: any) {\r\n        let assessmentData = await Core.getHttp(`/api/iit/v2/assessmentissues/?&year=1`)\r\n        for (let i = 0; i < assessmentData.length; i++) {\r\n            let raw = await Core.getHttp(`/api/iit/v2/answerissue-report/?agency=${agency.id}&assessmentIssues=${assessmentData[i].id}`)\r\n            let user = await Core.groupBy(raw, 'user')\r\n            let userDone = user.length\r\n            let issueGroup = await Iit.groupIssueRaw(raw, userDone, agency.count);\r\n            let count = 0;\r\n            let sumOutAvg = 0;\r\n            let choice = 0;\r\n            for (let j = 0; j < issueGroup.length; j++) {\r\n                let sumAvg = this.sumScore(issueGroup[j].value)\r\n                sumOutAvg += Number(sumAvg)\r\n                choice++;\r\n            }\r\n            let score30 = Number(((sumOutAvg / choice) * 0.3).toFixed(2))\r\n            if (isNaN(score30)) {\r\n                score30 = 0.00\r\n            }\r\n            return score30 \r\n        }\r\n\r\n        //   let count = 0;\r\n        // let sumOutAvg = 0;\r\n        // let choice = 0;\r\n        // for (let i=0; i < assessmentData.length ; i++){\r\n        //     let raw = await Core.getHttp(`/api/iit/v2/answerissue-report/?agency=${this.$route.query.agency}&assessmentIssues=${this.assessmentData[i].id}`)\r\n        //     let issueGroup = await Iit.groupIssueRaw(raw, this.userDone, this.agency.count);\r\n        //     for(let j=0; j < issueGroup.length; j++){\r\n        //        let sumAvg =  this.sumScore(issueGroup[j].value)  \r\n        //        sumOutAvg += Number(sumAvg)\r\n        //        choice++;\r\n\r\n        //     }\r\n\r\n        // }\r\n        // this.score100 = Number((sumOutAvg/choice).toFixed(2))\r\n        // this.score30 =  Number(((sumOutAvg/choice)*0.3).toFixed(2))\r\n        // if(isNaN(this.score30)  ){\r\n        //     this.score30 = 0.00\r\n        // }\r\n\r\n    }\r\n    toFixed2(num: number) {\r\n        return num.toFixed(2);\r\n    }\r\n    sumScore(arr: any) {\r\n        //console.log(arr);\r\n        let numberArr = arr.length;\r\n        let sumAvg = _.sumBy(arr, 'avg');\r\n        let score = (sumAvg / arr.length);\r\n        return score.toFixed(2);\r\n    }\r\n\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IIT_MAP.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IIT_MAP.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./IIT_MAP.vue?vue&type=template&id=d0f09ed6&\"\nimport script from \"./IIT_MAP.vue?vue&type=script&lang=ts&\"\nexport * from \"./IIT_MAP.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { VuexModule, Module, Mutation, Action } from \"vuex-class-modules\";\r\nimport { Core } from \"@/store/core\";\r\nimport _ from \"lodash\"\r\n@Module({ generateMutationSetters: true })\r\nclass IitClass extends VuexModule {\r\n\r\n    private doingUser: number = 0\r\n    private asignUser: number = 0\r\n    public async groupIssueRaw(raw: any, doingUser: number, asignUser: number) {\r\n        this.doingUser = doingUser\r\n        this.asignUser = asignUser\r\n        let issueGroup: any = raw\r\n        issueGroup = await _.chain(issueGroup)\r\n            .groupBy('issue')\r\n            .map((value: any, key: any) => ({\r\n                name: value[0].issue_name,\r\n                group: key,\r\n                value: Iit.getDataIssue(value)\r\n            }))\r\n            .value();\r\n        return issueGroup\r\n    }\r\n\r\n    public getDataIssue(arr: []) {\r\n        let ans: any = _(arr)\r\n            .groupBy('issueDetail')\r\n            .map((platform, id) => ({\r\n                id: id,\r\n                val: platform\r\n            }))\r\n            .value()\r\n        let answer: any = []\r\n        //console.log('[DATA]', ans)\r\n        for (let index = 0; index < ans.length; index++) {\r\n            let data: any = {\r\n                \"name\": ans[index].val[0].issueDetail_name,\r\n                'issue_type': ans[index].val[0].issue_type,\r\n                'choiceTypeData': ans[index].val[0].choiceTypeData,\r\n                'length': ans[index].val.length,\r\n                'default_val': ans[index].val[0].value,\r\n                \"notting\": this.sumChoice(ans[index].val, 'น้อยที่สุดหรือไม่มีเลย', ans[index].val.length),\r\n                \"low\": this.sumChoice(ans[index].val, 'น้อย', ans[index].val.length),\r\n                \"very\": this.sumChoice(ans[index].val, 'มาก', ans[index].val.length),\r\n                \"many\": this.sumChoice(ans[index].val, 'มากที่สุด', ans[index].val.length),\r\n                \"have\": this.sumChoice(ans[index].val, 'มี', ans[index].val.length),\r\n                \"nohave\": this.sumChoice(ans[index].val, 'ไม่มี', ans[index].val.length),\r\n                'avg': 0.00\r\n            }\r\n            if (ans[index].val[0].issue_type == 'ระดับ') {\r\n                let tmp = 0\r\n                if (data.choiceTypeData == 'เชิงบวก') {\r\n                    tmp = ((data.notting.raw * 1) + (data.low.raw * 2) + (data.very.raw * 3) + (data.many.raw * 4)) / this.doingUser\r\n                } else {\r\n                    tmp = ((data.notting.raw * 4) + (data.low.raw * 1) + (data.very.raw * 2) + (data.many.raw * 3)) / this.doingUser\r\n                }\r\n                let rawScore = (tmp / this.doingUser)\r\n                data.avg = (rawScore > 1) ? (100 * rawScore) / 2 : (100 * rawScore)\r\n            } else {\r\n                if (data.choiceTypeData == 'เชิงบวก') {\r\n                    let tmp = ((data.nohave.raw * 1) + (data.have.raw * 2))\r\n                    let rawScore = (tmp / this.doingUser)\r\n                    data.avg = (rawScore > 1) ? (100 * rawScore) / 2 : (100 * rawScore)\r\n                } else {\r\n                    let tmp = ((data.nohave.raw * 2) + (data.have.raw * 1))\r\n                    let rawScore = (tmp / this.doingUser)\r\n                    data.avg = (rawScore > 1) ? (100 * rawScore) / 2 : (100 * rawScore)\r\n\r\n\r\n                }\r\n            }\r\n            // data.avg = data.avg.toFixed(2)\r\n            answer.push(data)\r\n        }\r\n        return answer\r\n    }\r\n\r\n    public sumChoice(arr: any, group_by: any, lengthNumber: number) {\r\n        let result: any = _.filter(arr, {\r\n            value_by: group_by\r\n        });\r\n        ////console.log('[USERLENGTH]',this.doingUser);\r\n        return {\r\n            \"percent\": ((result.length / this.doingUser) * 100).toFixed(2),\r\n            \"raw\": result.length\r\n        }\r\n    }\r\n\r\n}\r\n\r\nimport store from \"@/store\"\r\n\r\nexport const Iit = new IitClass({ store, name: \"Iit\" })\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relative flex flex-col min-w-0 break-words bg-white rounded-lg  shadow-xl mb-6 xl:mb-0 shadow-lg border-b-4 border-green-600\"},[_c('div',{staticClass:\"flex-auto p-4\"},[_c('div',{staticClass:\"flex flex-wrap\"},[_c('div',{staticClass:\"relative w-full pr-4 max-w-full flex-grow flex-1\"},[_c('span',{staticClass:\"font-semibold text-xl text-gray-800\"},[_vm._v(\" \"+_vm._s(_vm.statTitle)+\" \")]),_c('h5',{staticClass:\"text-gray-500 uppercase font-bold text-xs\"},[_vm._v(\" \"+_vm._s(_vm.statSubtitle)+\" \")]),_c('div',{},[_c('button',{staticClass:\"mt-2 text-green-600 font-bold text-tiny\",on:{\"click\":function($event){return _vm.$router.push(_vm.statRoute)}}},[_vm._v(\"ดูรายระเอียด\")])])]),_c('div',{staticClass:\"relative w-auto pl-4 flex-initial\"},[_c('div',{staticClass:\"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full text-xl\",class:[_vm.statIconColor]},[_c('i',{class:[_vm.statIconName]})])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"relative flex flex-col min-w-0 break-words bg-white rounded-lg  shadow-xl mb-6 xl:mb-0 shadow-lg border-b-4 border-green-600\"\r\n  >\r\n    <div class=\"flex-auto p-4\">\r\n      <div class=\"flex flex-wrap\">\r\n        <div class=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\r\n          <span class=\"font-semibold text-xl text-gray-800\">\r\n            {{ statTitle }}\r\n          </span>\r\n          <h5 class=\"text-gray-500 uppercase font-bold text-xs\">\r\n            {{ statSubtitle }}\r\n          </h5>\r\n\r\n          <div class >\r\n            <button class=\"mt-2 text-green-600 font-bold text-tiny\" @click=\"$router.push(statRoute)\">ดูรายระเอียด</button>\r\n          </div>\r\n\r\n        </div>\r\n        <div class=\"relative w-auto pl-4 flex-initial\">\r\n          <div\r\n            class=\"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full text-xl\"\r\n            :class=\"[statIconColor]\"\r\n          >\r\n            <i :class=\"[statIconName]\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"card-stats\",\r\n  props: {\r\n    statSubtitle: {\r\n      type: String,\r\n      default: \"Traffic\",\r\n    },\r\n\r\n    statArrow: {\r\n      default: \"up\",\r\n      validator: function (value) {\r\n        // The value must match one of these strings\r\n        return [\"up\", \"down\"].indexOf(value) !== -1;\r\n      },\r\n    },\r\n    statPercent: {\r\n      type: String,\r\n      default: \"3.48\",\r\n    },\r\n    // can be any of the text color utilities\r\n    // from tailwindcss\r\n    statPercentColor: {\r\n      type: String,\r\n      default: \"text-green-500\",\r\n    },\r\n    statTitle: {\r\n      type: String,\r\n      default: \"350,897\",\r\n    },\r\n    statDescripiron: {\r\n      type: String,\r\n      default: \"Since last month\",\r\n    },\r\n    statIconName: {\r\n      type: String,\r\n      default: \"far fa-chart-bar\",\r\n    },\r\n    // can be any of the background color utilities\r\n    // from tailwindcss\r\n    statIconColor: {\r\n      type: String,\r\n      default: \"bg-red-500\",\r\n    },\r\n    statRoute:{\r\n      type: String,\r\n      default:\"#\"\r\n    }\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardStatWithBtn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardStatWithBtn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CardStatWithBtn.vue?vue&type=template&id=05af2c9c&\"\nimport script from \"./CardStatWithBtn.vue?vue&type=script&lang=js&\"\nexport * from \"./CardStatWithBtn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}